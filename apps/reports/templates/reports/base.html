{%load static %}
{% load i18n %}
<!DOCTYPE html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Questrial" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="{% static 'reports/reports.css' %}" type="text/css" charset="utf-8">
</head>

<body>
  {%language "kn"%}
    <a style="top: 20px;position: absolute;left: 203px;" href="{{ request.path }}">ಕನ್ನಡ</a>
  {%endlanguage%}
  <h1><u>{%block report_title%} {%endblock report_title%}</u>
    {% include "./akshara-img.html" %}
  </h1>
  {%comment%} <!--Start of report summary top section--> {%endcomment%}
  <div class="wrapper">
    <div class="outer-box">
      <div class="container">
        {%block report_summary_section%}
        {%endblock report_summary_section%}
      </div>
    </div>
    {%comment%}<!-- End of report summary top section-->{%endcomment%}
    {%comment%}<!-- Start of GKA implementation section box-->{%endcomment%}
    {%comment%}<!-- This section is not applicable to GP and school reports -->{%endcomment%}
    {%if data.render_gka == 'True' %}
    {% with 'gp gpsummarized school schoolsummarized' as list %}
    {%if data.report_type not in list%}
    <div class="outer-line">
      {%comment%}Translators: GKA implementation header title{%endcomment%}
      <h2>{%trans "GKA IMPLEMENTATION"%}</h2>
      <p>[This report is based on the survey feedbacks received from HMs/CRP/Akshara staff and other department
        officials on implementation of GKA Program]
      </p>
      <div style="width: 100%;    margin: auto;    margin-top: 30px;    overflow: hidden;display: flex; align-items: center;">
        <div class="three-box text-left">
          {%comment%}Translators: Teacher's trained label{%endcomment%}
          {%trans "Teacher's Trained :"%}
        </div>
        <div class="three-box text-left">
          <span style=" font-size: 16px;float: left;">{{data.gka.teachers_trained}}%</span>
          <div class="p-bar-grey" style="width: 80%;border-radius:5px;">
            <div class="p-bar-fill green" style="height:15px;width:{{data.gka.teachers_trained}}%"></div>
          </div>
        </div>
        <div class="three-box text-left">
          {%comment%}Translators: Kit usage label{%endcomment%}
          {%trans "Kit Usage :" %}
        </div>
        <div class="three-box text-left">
          <span style=" font-size: 16px;float: left;">{{data.gka.kit_usage}}%</span>
          <div class="p-bar-grey" style="width: 80%;border-radius: 5px;">
            <div class="p-bar-fill green" style="height:15px;width:{{data.gka.kit_usage}}%"></div>
          </div>
        </div>
        <div class="three-box text-left">
          {%trans "Group Work :"%}
        </div>
        <div class="three-box text-left">
          <span style=" font-size: 16px;float: left;">{{data.gka.group_work}}%</span>
          <div class="p-bar-grey" style="width: 80%;border-radius:5px;">
            <div class="p-bar-fill green" style="height:15px;width:{{data.gka.group_work}}%"></div>
          </div>
        </div>
      </div>{%comment%}<!-- End of GKA summary-->{%endcomment%}

      <!-- Show this section only for district/block reports -->
      {%with 'district block districtsummarized blocksummarized' as to_show_list%}
      {%if data.report_type in to_show_list %}
        <h2>{%block gka_perf_title%}{%endblock gka_perf_title%}</h2>
        <table style="margin: auto;" id="customers">
          <tr>
            <th>{%block boundary_column_header%}{%endblock boundary_column_header%}</th>
            <th>Teacher Trained</th>
            <th>Kit Usage</th>
            <th>Group Work</th>
          </tr>
          {%comment%}<!-- Change gka_clusters to gka_children -->{%endcomment%}
          {% for item in data.gka_child_boundaries %}
          <tr>
            <td>{{item.boundary}} </td>
            <td><span class="mark {% if item.teachers_trained < 40 %} red{% endif %} {% if item.teachers_trained >= 70 %} green{% endif %}">{{item.teachers_trained}}%</span></td>
            <td><span class="mark {% if item.kit_usage < 40 %} red{% endif %} {% if item.kit_usage >= 70 %} green{% endif %}">{{item.kit_usage}}%</span></td>
            <td><span class="mark {% if item.group_work < 40 %} red{% endif %} {% if item.group_work >= 70 %} green{% endif %}">{{item.group_work}}%</span></td>
          </tr>
          {% endfor %}
        </table>
      {%endif%}
      {%endwith%}
    </div>
    </div>
    {%endif%}
    {%endwith%}
    {%endif%}<!-- End of check to see whether GKA section is to be rendered-->
    {%comment%}<!-- End of GKA section box-->{%endcomment%}
    {%comment%} <!-- Start of GP contest section--> {%endcomment%}
    {%if data.render_gp == 'True' %}
    <div class="outer-line">
      <h2>GP Contest</h2>
      <span style="line-height:22px;">
        {%with 'gp gpsummarized school' as reports_list%}
        <!-- For all reports except school show number of contests-->
        {%if data.report_type not in reports_list %}
          <b>Total No of Contests:</b> {{data.num_contests}}&nbsp;
          <span style="float:right;">
              <b>Participation :</b> {{data.num_students}} {
              {% include "./boy-shadow.html" %} : {{data.num_boys}}
              {% include "./girl-shadow.html" %} : {{data.num_girls}}
              }
          </span>
        <!-- For school reports show only number of students-->
        {%else%}
          <b>Participation :</b>  {{ data.num_students}} 
          { {% include "./boy-shadow.html" %} :  {{ data.num_boys }}
          {% include "./girl-shadow.html" %} : {{ data.num_girls }}
          } &nbsp; &nbsp; &nbsp;
          <span style="float:right;">
            <b>Students with FULL score : </b>{{ data.score_100}} 
          </span>
        {%endif%}
        {%endwith%}
      </span>

      <p> [This report provides the details of Math learning levels of children by school who participated in Gram
        Panchayat Mathematics Contests this academic year.]</p>
      <!-- Overall gradewise performance not applicable to schools. SHOW ONLY BREAKDOWN BY SCHOOL/GRADE. See below-->
      {%if data.report_type != "school" %}
      <h2>Performance by Grade</h2>
      <table style="margin: auto;" id="customers">
        <tr>
          <th>Grade</th>
          <th>
            Number Recognition <br>(123)
          </th>
          <th>
            Place Value <br>(1,10,100)
          </th>
          <th>
            Addition<br>(+)
          </th>
          <th>
            Subtraction<br>(-)
          </th>
          <th>
            Multiplication<br>(&times;)
          </th>
          <th>
            Division<br>(&divide;)
          </th>
         
        </tr>
        {% for item in data.overall_gradewise_perf %}
        <tr>
          <td>{{ item.grade }}</td>
          <td align="center">
            {% for value in item.values%}
            {% if "Number Recognition" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.score < 40 %} red{% endif %} {% if value.score >= 70 %} green{% endif %}">{{value.score}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {%if item.grade == "Class 5 Assessment" or item.grade == "Class 6 Assessment"%}
            <span class="font-effect-outline mark b-dot grey">NA</span>
            {% endif %}
            {% for value in item.values%}
            {% if "Place Value" == value.contest and item.grade == "Class 4 Assessment" %}
            <span class="font-effect-outline mark b-dot {% if value.score < 40 %} red{% endif %} {% if value.score >= 70 %} green{% endif %}">{{value.score}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {% for value in item.values %}
            {% if "Addition" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.score < 40 %} red{% endif %} {% if value.score >= 70 %} green{% endif %}">{{value.score}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {% for value in item.values%}
            {% if "Subtraction" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.score < 40 %} red{% endif %} {% if value.score >= 70 %} green{% endif %}">{{value.score}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {% for value in item.values%}
            {% if "Multiplication" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.score < 40 %} red{% endif %} {% if value.score >= 70 %} green{% endif %}">{{value.score}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {% for value in item.values%}
            {% if "Division" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.score < 40 %} red{% endif %} {% if value.score >= 70 %} green{% endif %}">{{value.score}}%</span>
            {% endif %}
            {% endfor %}
          </td>
        
        </tr>
        {% endfor %}
      </table>
      {%endif%}
      <!-- Detailed breakdown of numbers by child boundary/school etc..-->
      <!-- Show this section only for -->
      {%with 'district block cluster gp school' as reports_to_show%}
      {% if data.report_type in reports_to_show %}
      <h2>{%block gpc_performance_title%}{%endblock gpc_performance_title%}</h2>
      <table id="customers" style="margin:auto;">
        <tr>
          <th>{%block child_boundary_col_header_name%}{%endblock child_boundary_col_header_name%}</th>
          <th>Grade</th>
          <th>
            Number Recognition <br>(123)
          </th>
          <th>
            Place Value <br>(1,10,100)
          </th>
          <th>
            Addition<br>(+)
          </th>
          <th>
            Subtraction<br>(-)
          </th>
          <th>
            Multiplication<br>(&times;)
          </th>
          <th>
            Division<br>(&divide;)
          </th>
         
        </tr>
        {% for item in data.gpc_child_boundaries %}
        {% for g in item.grades%}
        <tr>
          {% if forloop.counter == 1 %} <td rowspan="{{ item.grades|length }}" style="background-color:#fff;">
            {{ item.boundary }}</td> {% endif %}
          <td>{{g.name}}</td>
          <td align="center">
            {% for value in g.values%}
            {% if "Number Recognition" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.count < 40 %} red{% endif %} {% if value.count >= 70 %} green{% endif %}">{{value.count}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {%if g.name == "Class 5 Assessment" or g.name == "Class 6 Assessment"%}
            <span class="font-effect-outline mark b-dot grey">NA</span>
            {% endif %}
            {% for value in g.values%}
            {% if "Place Value" == value.contest and g.name == "Class 4 Assessment"%}
            <span class="font-effect-outline mark b-dot {% if value.count < 40 %} red{% endif %} {% if value.count >= 70 %} green{% endif %}">{{value.count}}%</span>
            {%endif%}
            {% endfor %}
          </td>
          <td align="center">
            {% for value in g.values%}
            {% if "Addition" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.count < 40 %} red{% endif %} {% if value.count >= 70 %} green{% endif %}">{{value.count}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {% for value in g.values%}
            {% if "Subtraction" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.count < 40 %} red{% endif %} {% if value.count >= 70 %} green{% endif %}">{{value.count}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {% for value in g.values%}
            {% if "Multiplication" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.count < 40 %} red{% endif %} {% if value.count >= 70 %} green{% endif %}">{{value.count}}%</span>
            {% endif %}
            {% endfor %}
          </td>
          <td align="center">
            {% for value in g.values%}
            {% if "Division" == value.contest %}
            <span class="font-effect-outline mark b-dot {% if value.count < 40 %} red{% endif %} {% if value.count >= 70 %} green{% endif %}">{{value.count}}%</span>
            {% endif %}
            {% endfor %}
          </td>
        </tr>
        {% endfor %}
        {% endfor %}
      </table>
      {%endif%}<!-- End of check for report types-->
      {%endwith%}
      {%comment%}<!-- End if block checking for report types -->{%endcomment%}
    </div>
    {%comment%}<!-- End of GP contest section -->{%endcomment%}
    {%endif%} <!-- End of data.render_gp check-->
    {%if data.render_hh == 'True' %}
    <!-- Start of community survey section. Don't show for schools. Show for everything else -->
    {%if data.report_type != "school"%}
      <div class="outer-line">
        <h2>COMMUNITY SURVEY</h2>
        <p>[This report is based on the feedback received from the parents on functioning of the school in your
          boundary]</p>
        {% for s in data.household %}
        <div class="half-box">
          {{s.text}}
          <br><br>
          <span class="percent">{{s.percentage}}%</span>
          <div class="p-bar-grey" style="width: 80%;">
            <div class="p-bar-fill" style="height:15px;width:{{s.percentage}}%"></div>
          </div>
        </div>
        {% endfor %}
      </div>
      {%comment%}<!-- End of community survey section-->{%endcomment%}
    {%endif%}
    {%endif%}<!-- End of data.render_hh check -->
    {%block footer %}
    <div class="outer-line" style="line-height: 26px;">
      <b>FOCUS AREAS</b> :
      <ul>
        {%if data.render_gka == 'True' or data.render_gp == 'True' %}
        <li>
          <b>Colour Code: </b>All the numbers more than 70% are highlighted in <span class="green"><b>GREEN</b></span>,
          All the numbers which are less than 40% are highlighted in <span class="red"><b>RED</b></span>. HMs/CRPs/GP
          Members should take serious note and work towards improving the learning levels in Math.
        </li>
        {%endif%}
        {%if data.render_gp == 'True'%}
        <li>
          <b>Question Design: </b> In GP contest, all the children are tested based on the previous year's competency
          level. For example, a Class-5 child is given a question paper prepared based on the Class-4 level
          competencies.
        </li>
        <li>
          <b>Evaluation Scheme: </b> For Number Recognition, Place Value, Addition, Subtraction all the questions
          asked should be answered correctly. For Division and Multiplication, one question should be answered
          correctly.
        </li>
        {%endif%}
        {%if data.render_gka == 'True' or data.render_gp == 'True' %}
        <li>
          <b>Recommendation: </b>To improve math learning levels of children please encourage the use of GKA Math kit
          in classrooms.
        </li>
        {%endif%}
      </ul>
    </div>
    <div class="red" style="text-align: center;padding: 20px;">
      {% include "./gka_logo_english.html" %} <br>
      FOR MORE INFORMATION OR FOR ANY QUERIES PLEASE CONTACT : 9845079590
    </div>
    <a href="{{ request.path }}download?lang={{request.GET.lang}}" class="button button5">Download</a>
  </div>
  {%endblock footer%}
</body>

</html>